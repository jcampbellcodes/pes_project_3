# PES Project 3 Readme
Jack Campbell

## Description
This repo contains custom sources and makefiles for Project 3 as well as adapted and generated code 
from MCUXpresso and the KL25Z SDK.

A global makefile lives at the project root that contains all the build targets:
fb_run, fb_debug, pc_run, pc_debug, and clean. The *_run variants go into the `Release`
directory and execute release-specific rules and make logic, whereas the *_debug variants
do the same thing in the `Debug` subdirectory. 

The configuration specific KL25Z `*.mk` files were all generated by the IDE and saved and checked in 
so the project could be loaded consistently from the repo. The PC makefiles and project-level
makefiles were written by me.

## Installation/Execution Notes

These are the steps to build the project in MCUXpresso.

1) Clone the repo
2) In MCUXpresso, click `New > Project`.
3) Select `Makefile project with existing code...`
4) Unselect C++, enter a project name, browse to the directory of the repo, and select `NXP MCU Tools`, then hit next.
5) Now the project is active in the IDE.

### Adding build targets

To add the build targets specified in the makefile:
1) Open the Build Targets side window
2) Right click the project name
3) Select New
4) Enter the name of one of the build targets (fb_run, fb_debug, pc_run, pc_debug, and clean)
5) Repeat for all build targets
6) Double clicking on a target name will invoke that target

### Running the PC builds

After building the targets (either individually using the build target steps above or just using the hammer icon to build "all"), you can add configurations to run the pc builds in the editor.

1) Right click on the project name in the file hierarchy, select `Run as > Run configurations...`
2) Select `C/C++ Application`
3) Hit `New launch configuration`
4) Select a name for the output configuration (you need one for both Release and Debug)
5) Set the `C/C++ Application` field to the binary you want to run, either `Debug/output/pc_debug` for Debug or `Release/output/pc_run` for Release
6) Hit Apply
7) Hit Run
8) The program should run in the console below.


### Running the FB builds

1) Right click on the project name in the file hierarchy, select `Debug as > Debug configurations...`
2) Select `GDB PEMicro Interface Debugging`
3) Hit `New launch configuration`
4) Select a name for the output configuration (you need one for both Release and Debug)
5) Set the `C/C++ Application` field to the binary you want to run, either `Debug/output/kl25z_debug.axf` for Debug or `Release/output/kl25z_run.axf` for Release
6) Hit Apply
7) Hit Debug
8) The program should run in the console below, provided the board is connected successfully.
